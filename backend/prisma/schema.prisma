// prisma/schema.prisma

// 1. Definição da Fonte de Dados (Datasource)
// O Render (PostgreSQL) exige o provider e a url via variável de ambiente.
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// 2. Definição do Gerador do Cliente (Generator)
generator client {
  provider = "prisma-client-js"
}

// 3. Definição dos Modelos (Seus dados)
// **********************************************
// ATENÇÃO: COLOQUE AQUI A DEFINIÇÃO COMPLETA
// DOS SEUS CAMPOS (id, nome, etc.)!
// **********************************************

// SEÇÃO MODELOS CORRIGIDA NO schema.prisma

model Servico {
  // 1. ID e Campos Essenciais (Descomentados)
  id           String        @id @default(uuid())
  nome         String        @unique // O nome do serviço deve ser único
  duracao      Int
  preco        Float

  // 2. Relação
  Agendamentos Agendamento[]
}

model Agendamento {
  // 1. ID e Campos Essenciais (Descomentados)
  id           String    @id @default(uuid())
  nomeCliente  String
  servicoId    String // Chave estrangeira
  data         String
  horaEntrada  String
  horaSaida    String
  status       String    @default("agendado") // Conforme seu server.js
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt

  // 2. Relação (Descomentada e Corrigida)
  servico      Servico   @relation(fields: [servicoId], references: [id])
}